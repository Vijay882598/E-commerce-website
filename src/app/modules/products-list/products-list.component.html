<section class="py-14 bg-gradient-to-b from-gray-50 to-white"
  data-aos="fade-up">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="mb-12">
      <h2
        class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 tracking-tight"
        data-aos="fade-right">
        Shop By <span class="text-red-600">{{ category || 'Products' }}</span>
      </h2>
    </div>

    <div *ngIf="products.length > 0; else noProducts"
      class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5 md:gap-8"
      data-aos="fade-up" data-aos-delay="100">

      <div
        *ngFor="let product of products; trackBy: trackByProductId; let i = index"
        class="group relative bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
        data-aos="zoom-in" [attr.data-aos-delay]="i * 80">

        <div class="relative h-56 sm:h-60 bg-gray-50 overflow-hidden">
          <img
            [src]="product.thumbnail || product.images?.[0] || 'https://via.placeholder.com/400'"
            [alt]="product.title"
            loading="lazy"
            class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-110">

          <div
            class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </div>

        <div class="p-4 text-center">
          <h3
            class="text-sm sm:text-base font-semibold text-gray-800 line-clamp-2 group-hover:text-red-600 transition-colors duration-300">
            {{ product.title }}
          </h3>

          <div class="mt-4">
            <app-button label="View Product"
              customClass="w-full bg-purple-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-purple-700 transition"
              (clicked)="viewProduct(product)">
            </app-button>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noProducts>
      <div class="flex flex-col items-center justify-center py-24 text-center"
        data-aos="fade-up">
        <div
          class="w-20 h-20 mb-6 rounded-full bg-gray-100 flex items-center justify-center text-4xl">
          ðŸ“¦
        </div>
        <h3 class="text-xl font-semibold text-gray-700">No products
          available</h3>
        <p class="text-gray-500 mt-2 max-w-md">
          We couldn't find any products in this category right now. Please check
          back later or explore other categories.
        </p>
      </div>
    </ng-template>

    <app-product-dialogbox *ngIf="showDialog && selectedProduct"
      [product]="selectedProduct"
      [isOpen]="showDialog"
      (close)="closeDialog()">
    </app-product-dialogbox>
  </div>
</section>